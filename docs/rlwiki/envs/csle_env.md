## 什么是 CSLE？

CSLE 是一个用于评估和开发强化学习代理以解决网络安全控制问题的框架。CSLE 中的网络仿真、模拟和学习等所有内容都经过共同设计，旨在提供一个环境，使人们能够训练和评估强化学习代理以完成实际的网络安全任务。

![img](https://limmen.dev/csle/img/arch.png)

图 1：CSLE 中用于自动查找有效安全策略的方法。

该方法包括两个系统：仿真系统和模拟系统。仿真系统与目标基础设施的功能非常接近，用于运行攻击场景和防御者响应。此类运行会产生系统测量值和日志，据此估算基础设施统计数据，然后用于实例化马尔可夫决策过程 (MDP)。

模拟系统用于模拟实例化的MDP，并通过强化学习来学习安全策略。从模拟系统中提取学习到的策略，并在仿真系统中进行评估。

该方法有三个好处：

（i）仿真系统提供了一个评估策略的真实环境；

（ii）仿真系统允许评估策略而不影响目标基础设施上的操作工作流程；

（iii）模拟系统能够高效、快速地学习策略。

#### 管理系统

管理系统是 CLSE 的核心组件，管理框架的整体执行。它是一个分布式系统，由通过 IP 网络连接的 N>=1 个物理服务器组成。其中一个服务器被指定为“领导者”，其他服务器为“工作者”。管理系统可用于实时监控模拟、启动或停止服务、监控强化学习工作负载、访问模拟组件的终端以及检查安全策略。

#### 仿真系统

仿真系统允许模拟大规模 IT 基础设施和网络流量，即客户端流量、网络攻击和自动防御。它在运行由 Docker 容器和虚拟链接提供的虚拟化层的机器集群上执行。它使用网络命名空间和 Linux 内核中的 NetEm 模块在容器上实现网络隔离和流量整形。使用 cgroups 强制执行容器的资源限制，例如 CPU 和内存限制。

#### 模拟系统

CSLE 的模拟系统允许运行强化学习和优化算法来学习安全策略。正式地，我们将攻击者和防御者之间的互动建模为马尔可夫博弈。然后，我们使用自我游戏模拟，其中自主代理进行互动并根据以前玩过的游戏的经验不断更新其策略。要自动更新游戏中的策略，可以使用多种方法，包括计算博弈论、动态规划、进化算法和强化学习。

## 为什么选择 CSLE？

网络攻击的普遍性和不断演变的性质越来越受到社会关注， 安全流程和功能的自动化已被视为应对这一威胁的重要组成部分。实现这种自动化的一种有前途的方法是强化学习，它已被证明可有效找到多个领域（例如机器人和工业自动化）中控制问题的近乎最优的解决方案。

虽然这方面研究已经取得了令人鼓舞的成果，但关键挑战仍然存在。其中最主要的是缩小强化学习代理的评估环境与真实系统中场景之间的差距。迄今为止获得的大多数结果仅限于模拟环境，目前尚不清楚它们如何推广到实际的 IT 基础设施。先前研究的另一个局限性是缺乏通用的基准和工具集。

CSLE 的开发正是为了解决上述限制。通过使用高保真仿真，它缩小了评估环境与真实系统之间的差距，并且由于是开源的，它为进一步的研究提供了基础。

最近，人们开始努力构建与 CSLE 类似的框架（见 [调查](https://github.com/Limmen/awesome-rl-for-cybersecurity)）。最值得注意的是 微软的 [CyberBattleSim](https://github.com/microsoft/CyberBattleSim) 、澳大利亚国防部的[CyBorg](https://github.com/cage-challenge/CybORG) 、英国国防科学技术实验室 (DSTL) 的 [Yawning Titan](https://github.com/dstl/YAWNING-TITAN) 以及美国国家安全局 (NSA) 开发的[FARLAND](https://arxiv.org/pdf/2103.07583.pdf) 。其中一些框架仅包含模拟组件，而另一些则同时包含模拟和仿真组件。与这些框架相比，CSLE 是完全开源的，既包含模拟组件又包含仿真组件，并且已经展示了在特定用例上学习近乎最佳的防御者策略的能力。

## 安装和使用

CSLE 可在[Github](https://github.com/Limmen/csle)上下载 。Python API 可在[PyPi](https://pypi.org/user/Limmen/)上获取 ，可使用 Pip 安装。Docker 容器可在 [Docker hub](https://hub.docker.com/r/kimham/)上获取。详细安装说明可参阅[文档。](https://limmen.dev/csle/docs/what-is-csle)

CSLE 的四个主要用途的示例如下：（1）数据收集；（2）系统识别；（3）策略培训；（4）策略评估。
